#!name = Apple
#!desc = üçé iRingo
#!icon = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Apple.png
#!homepage = https://nsringo.github.io
#!openUrl = http://boxjs.com/#/app/iRingo.WeatherKit

#[filter_local]
host, news-edge.apple.com, PROXY
host, news-events.apple.com, PROXY
host, apple.comscoreresearch.com, PROXY
host, news-assets.apple.com, PROXY

#[rewrite_local]
# ‚õÖÔ∏è WeatherKit
^https?:\/\/weatherkit\.apple\.com\/api\/v1\/availability\/ url script-response-body https://github.com/NSRingo/WeatherKit/releases/latest/download/response.bundle.js
^https?:\/\/weatherkit\.apple\.com\/api\/v2\/weather\/ url script-request-header https://github.com/NSRingo/WeatherKit/releases/latest/download/request.bundle.js
^https?:\/\/weatherkit\.apple\.com\/api\/v2\/weather\/ url script-response-body https://github.com/NSRingo/WeatherKit/releases/latest/download/response.bundle.js
^https?:\/\/weather-analytics-events\.apple\.com\/ url reject

# üìç Location
^https?:\/\/gspe1-ssl\.ls\.apple\.com\/pep\/gcc url script-response-body https://github.com/NSRingo/GeoServices/releases/latest/download/response.bundle.js

# üó∫Ô∏è Maps
^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults url script-request-header https://github.com/NSRingo/GeoServices/releases/latest/download/request.bundle.js
^https?:\/\/configuration\.ls\.apple\.com\/config\/defaults url script-response-body https://github.com/NSRingo/GeoServices/releases/latest/download/response.bundle.js
^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements url script-request-header https://github.com/NSRingo/GeoServices/releases/latest/download/request.bundle.js
^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/config\/announcements url script-response-body https://github.com/NSRingo/GeoServices/releases/latest/download/response.bundle.js
^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config url script-request-header https://github.com/NSRingo/GeoServices/releases/latest/download/request.bundle.js
^https?:\/\/gspe35-ssl\.ls\.apple\.(com|cn)\/geo_manifest\/dynamic\/config url script-response-body https://github.com/NSRingo/GeoServices/releases/latest/download/response.bundle.js

# ‚≠ï Siri
^https?:\/\/(api-siri|api2|api-.+)\.smoot\.apple\.com\/search url script-request-header https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/(guzzoni|api2|api-.+)\.smoot\.apple\.com\/apple\.parsec\.siri\.v2alpha\.SiriSearch\/SiriSearch url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/api-safari(-.+)?\.smoot\.apple\.com\/apple\.parsec\.safari\.v1alpha\.SafariSearch\/SafariSearch url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/api-lookup(-.+)?\.smoot\.apple\.com\/apple\.parsec\.lookup\.v1alpha\.LookupSearch\/LookupSearch url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/(api2|api-.+)\.smoot\.apple\.com\/apple\.parsec\.visualsearch\.v2\.VisualSearch\/VisualSearch url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/(api-.+)\.smoot\.apple\.com\/apple\.parsec\.responseframework\.engagement\.v1alpha\.EngagementSearch\/EngagementSearch url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js
^https?:\/\/(api-.+)\.smoot\.apple\.com\/apple\.parsec\.spotlight\.v1alpha\.ZkwSuggestService\/Suggest url script-request-body https://github.com/NSRingo/Siri/releases/latest/download/request.bundle.js

# üì∫ TV
^https?:\/\/uts-api\.itunes\.apple\.com\/uts\/(v1|v2|v3)\/ url script-request-body https://github.com/NSRingo/TV/releases/latest/download/request.bundle.js
^https?:\/\/uts-api\.itunes\.apple\.com\/uts\/(v1|v2|v3)\/ url script-response-body https://github.com/NSRingo/TV/releases/latest/download/response.bundle.js
^https?:\/\/umc-tempo-api\.apple\.com\/(v1|v2|v3)\/ url script-request-body https://github.com/NSRingo/TV/releases/latest/download/request.bundle.js

# üì∞ News
^https?:\/\/news(-todayconfig)?-edge\.apple\.com\/v1\/configs url script-request-body https://github.com/NSRingo/News/releases/latest/download/request.bundle.js
^https?:\/\/news(-sports)?-events\.apple\.com\/analyticseventsv2\/async url script-request-body https://github.com/NSRingo/News/releases/latest/download/request.bundle.js
^https?:\/\/news-client-search\.apple\.com\/v1\/search url script-request-header https://github.com/NSRingo/News/releases/latest/download/request.bundle.js

#[mitm]
hostname = weatherkit.apple.com, weather-analytics-events.apple.com, *.tthr.apple.com, tether.edge.apple, gspe1-ssl.ls.apple.com, configuration.ls.apple.com, gspe35-ssl.ls.apple.com, guzzoni.smoot.apple.com, api2.smoot.apple.com, api-*.smoot.apple.com, uts-api.itunes.apple.com, umc-tempo-api.apple.com, play-cdn.itunes.apple.com, play-edge-cdn.itunes.apple.com, news-edge.apple.com, news-todayconfig-edge.apple.com, news-events.apple.com, news-sports-events.apple.com, news-client.apple.com, news-client-search.apple.com
